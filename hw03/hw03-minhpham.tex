\documentclass[12pt]{letter}
\usepackage{amsmath}
\usepackage{amsfonts}
\usepackage{amssymb}
\usepackage[margin=1in, paperwidth=8.5in, paperheight=11in]{geometry}
\linespread{1.5}

\begin{document}

Student: Minh Pham \\
EID: mlp2279 \\
CSID: minhpham

\begin{center}
	\textbf{Homework 3} \\
\end{center}

\begin{enumerate}
	\item (5 points)
	A 2D triangle has vertices $(0, 0)$, $(2, 1)$, $(−1, 1)$.
	What are the barycentric coordinates of the point $(0.8, 0.7)$?
	
	\textbf{Answer:} \\
	Let $(\lambda_1, \lambda_2, \lambda_3)$ be the barycentric coordinate of the point $(0.8, 0.7)$.

	Then we have:
	$$\lambda_1 * 0 + \lambda_2 * 2 + \lambda_3 * -1 = 0.8 \leftrightarrow \lambda_2 * 2 + \lambda_3 * -1 = 0.8 $$
	$$\lambda_1 * 0 + \lambda_2 * 1 + \lambda_3 * 1 = 0.7  \leftrightarrow \lambda_2 * 1 + \lambda_3 * 1 = 0.7  $$
	
	Solving this system of equations, we get:
	$$	\lambda_2 = 0.5$$
	$$\lambda_3 = 0.2$$
	
	Since $\lambda_1 + \lambda_2 + \lambda_3 = 1$, $\lambda_1 = 0.3$
	
	The final answer is: $(\textbf{0.3, 0.5, 0.2})$
	
	\item (5 points)
	Suppose a triangle has the following RGB colors at its vertices: $c0 = (1, 0, 0)$, $c1 = (1, 0.8, 0.4)$, $c2 = (0.6, 0.3, 0.9)$.
	Given a point with barycentric coordinates $(0.2, 0.5, 0.3)$, what will the color be at that point using linear interpolation?
	
	\textbf{Answer:} \\
	For RGB color, we can linearly interpolate the value of each component by weighing the value of the same component at each vertex by the corresponding barycentric coordinate.
	
	In other words, at the point $(0.2, 0.5, 0.3)$, we have:
	$$ R = 0.2 * 1 + 0.5 * 1 + 0.3 * 0.6 = 0.88   $$
	$$ G = 0.2 * 0 + 0.5 * 0.8 + 0.3 * 0.3 = 0.49 $$
	$$ B = 0.2 * 0 + 0.5 * 0.4 + 0.3 * 0.9 = 0.47 $$
	
	The final answer is: $(\textbf{0.88, 0.49, 0.47})$	
	
	\item (5 points)
	Suppose a triangle has the following vertex normals: $n0 = (1, 0, 0)$, $c1 = (0, 1, 1)$, $c2 = (2, 1, 0)$.
	Given a point with barycentric coordinates $(0.2, 0.5, 0.3)$, what will the normal be at that point using linear interpolation?
	
	\textbf{Answer:} \\
	
	First we normalize the unnormalized normals:	
	$$n1 = c1 / \sqrt{2} = (0, 1/\sqrt{2}, 1/\sqrt{2})$$
	$$n2 = c2 / \sqrt{5} = (2/\sqrt{5}, 1/\sqrt{5}, 0)$$
	
	After that we weigh each normalized normal by each corresponding barycentric coordinate to get the normal at the point of interest.

	Doing the weighing component-wise, the calculation is as follow:
	$$ x = 0.2 * 1 + 0.5 * 0          + 0.3 * 2/\sqrt{5} = 0.4683 $$
	$$ y = 0.2 * 0 + 0.5 * 1/\sqrt{2} + 0.3 * 1/\sqrt{5} = 0.4877 $$
	$$ z = 0.2 * 0 + 0.5 * 1/\sqrt{2} + 0.3 * 0          = 0.3536 $$
	
	The final answer is: $(\textbf{0.4683, 0.4877, 0.3536})$

	\item
	A light source located at $(0, 0, 10)$ emits white light for specular, diffuse and ambient reflections.
	A triangle has vertices $v0 = (0, 0, 0)$, $v1 = (1, 0, 0)$, $v2 = (1/2, 1, 0)$. Each vertex has an associated normal,
	which are $n0 = (0, 0, 1)$, $n1 = (0, 0, 1)$, $n2 = (0, \sqrt{2}/2, \sqrt{2}/2)$.
	The triangle has material properties $kd = [1, 0, 0]'$ , $ks = [0, 1, 0]'$ and a specular coefficient of 10.
	A point p is located at barycentric coordinates $(0.2, 0.6, 0.2)$ with respect to the triangle.
	The viewer’s eye is at $(5, 0, 10)$.
	
	Using the Phong reflection model and assuming no distance attenuation, answer the following questions.
	You may write code to solve the equations if you wish, but you must show all steps, including the values of the relevant vectors.
	Be sure to always normalize your vectors!
	\begin{enumerate}
		\item (5 points) What is the diffuse reflection term at vertex v1 ?
		\item (5 points) What is the specular reflection term at vertex v1 ?
		\item (5 points) Assuming phong reflection, what is the diffuse reflection term at point p?
		\item (5 points) Assuming phong reflection, what is the specular reflection term at point p?
		\item (5 points) If we move the light source very slightly up along the positive y axis, what will happen to the diffuse and specular terms for vertex v1 ? Why? You don’t need to do the calculations, just describe what will happen.
	\end{enumerate}
	
	\textbf{Answer:} \\
	Since the only light source emits white light for specular, diffuse, and ambient reflections, we have the diffuse term from source $L_d$, and the specular term from source $L_s$ as follow:
	$$ L_d = (1, 1, 1); L_s = (1, 1, 1) $$
	We also have the specular coefficient $\alpha = 10$.
	\begin{enumerate}
		\item
		The vector from the light source to the point $v1$ is:
		$$ l = normalize(light - v1) = normalize((0, 0, 10) - (1, 0, 0)) = (-1/\sqrt{101}, 0, 10/\sqrt{101})$$
		
		The diffuse reflection term at vertex $v1$ is:
		
		$$ I_{dv1} = kd*L_d*max((l \cdot n1), 0)$$
		$$ I_{dv1} = (1, 0, 0)' * (1, 1, 1) * max(((-1/\sqrt{101}, 0, 10/\sqrt{101}) \cdot (0, 0, 1)), 0) $$
		$$ I_{dv1} = (10/\sqrt{101}, 0, 0) $$
		
		\item
		The vector from eye to the point $v1$ is:
		$$ v = normalize(eye - v1) = normalize((5, 0, 10) - (1, 0, 0)) = (2/\sqrt{29}, 0, 5/\sqrt{29}) $$
		
		The perfect reflector vector is:
		$$ r = 2*(l \cdot n1)*n1 - l $$
		$$ r = 2*((-1/\sqrt{101}, 0, 10/\sqrt{101}) \cdot (0, 0, 1))*(0, 0, 1) - (-1/\sqrt{101}, 0, 10/\sqrt{101}) $$
		$$ r = (1/\sqrt{101}, 0, 10/\sqrt{101}) $$
		
		The specular reflection term at $v1$ is:
		$$ I_{sv1} = ks * L_s * max((r \cdot v)^\alpha, 0) $$
		$$ I_{sv1} = (0, 1, 0)' * (1, 1, 1) * max(((1/\sqrt{101}, 0, 10/\sqrt{101}) \cdot (2/\sqrt{29}, 0, 5/\sqrt{29}))^{10}, 0) $$
		$$ I_{sv1} = \textbf{(0, 0.670558, 0)} $$
		
		\item
		The position of the point p in world space can be found by weighing the position of the triangle vertices using p's barycentric coodinates as weights.
		We have:
		$$P = 0.2*(0, 0, 0) + 0.6*(1, 0, 0) + 0.2*(1/2, 1, 0) = (0.7, 0.2, 0)$$
			
		The vector from the light source to the point p is:
		$$ l = normalize(light - P) $$
		$$ l = normalize((0, 0, 10) - (0.7, 0.2, 0)) $$
		$$ l= (-0.0698152, -0.0199472, 0.99736) $$
	
		The normal at point p can be found by linearly interpolating the normal at the triangle vertices using the point's barycentric coordinates as weights (since we are using Phong's shading).
		We have the normal at point p:
		$$ n = normalize(0.2*(0, 0, 1) + 0.6*(0, 0, 1) + 0.2*(0, \sqrt{2}/2, \sqrt{2}/2)) $$
		$$ n = (0, 0.1414, 0.9414) $$
		
		The diffuse reflection term at point p is:
		
		$$ I_{d} = kd*L_d*max((l \cdot n), 0)$$
		$$ I_{d} = (1, 0, 0)' * (1, 1, 1) * max(((-0.0698152, -0.0199472, 0.99736) \cdot (0, 0.1414, 0.9414)), 0)$$
		$$ I_{d} = (\textbf{0.936094, 0, 0}) $$
	
		\item
		The vector from the eye to the point p is:
		$$ v = normalize(eye - P) $$
		$$ v = normalize((5, 0, 10) - (0.7, 0.2, 0)) $$
		$$ v = (0.394961, -0.0183703, 0.918514) $$
		
		The perfect reflector vector at p is:
		$$ r = 2*(l \cdot n)*n - l $$
		$$ r = 2*((-0.0698152, -0.0199472, 0.99736) \cdot (0, 0.1414, 0.9414))*(0, 0.1414, 0.9414) - (-0.0698152, -0.0199472, 0.99736) $$
		$$ r = (0.0698152, 0.284675, 0.765118) $$
		
		The specular reflection term at p is:
		$$ I_s = ks * L_s * max((r \cdot v)^\alpha, 0) $$
		$$ I_s = (0, 1, 0)' * (1, 1, 1) * max(((0.0698152, 0.284675, 0.765118) \cdot (0.394961, -0.0183703, 0.918514))^{10}, 0) $$
		$$ I_s = (\textbf{0, 0.0401862, 0}) $$

		\item
		If we move the light source slightly up the y axis, then the light, v1, and the eye are no longer on the same plane.
		
		The angle between the light vector l and the normal at v1, n1, increases. The dot product between l and v1 decreases but should remain positive, so the diffuse reflection term decreases.
		
		Likewise, the angle between the viewer vector v and the perfect reflect vector, r, increases, thus lowering the dot product (which should still be positive), so the specular relection term decreases.
	\end{enumerate}
	
	\item (5 points)
	Consider a texture that is square and is a smooth, linear gradient from red to green moving left to right.
	That is, all pixels $(0, y)$ are red, all pixels $(w − 1, y)$ are green (where w is the width of
the texture), and all pixels in-between vary linearly in color. Give the color in RGB for the following
texture coordinates.
	\begin{enumerate}
		\item $(0, 0.5)$
		\item $(0.5, 0.5)$
		\item $(0.75, 0.5)$
		\item $(0.75, 0.75)$
	\end{enumerate}

	\textbf{Answer:}
	\begin{enumerate}
		\item $(1, 0, 0)$ (red)
		\item $(0.5, 0.5, 0)$
		\item $(0.25, 0.5, 0)$
		\item $(0.25, 0.75, 0)$
	\end{enumerate}

	\item (5 points)
	Consider the texture from the previous question.
	Let a triangle have vertices that have texture coordinates $vt0 = (0, 0)$, $vt1 = (1, 0)$, $vt2 = (0.5, 1)$. 
	Let point p be at barycentric coordinates $(0.5, 0.5, 0)$ with respect to the triangle.
	What is the color at p?
	
	\textbf{Answer:} \\
	The texture coordinate at p can be found by linearly interpolating the texture coordinates of the vertices of the triangle using p's barycentric coordinates as weights.
	So the texture coordinate at p is:
	$$ P_t = 0.5 * (0, 0) + 0.5 * (1, 0) + 0 * (0.5, 1) $$
	$$ P_t = (0.5, 0) $$
	
	p's texture coordinate indicates that it is half-way between red and green, so the color is $(0.5, 0.5, 0)$.
	
	
\end{enumerate}

\end{document}